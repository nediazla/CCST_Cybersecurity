# MÓDULO 7

# El Sistema Operativo Windows

(Conceptos esenciales, prácticas inseguras, defensas y preguntas tipo CCST)

## 1. Qué debes dominar en este módulo

Cisco exige que sepas:

- Cómo funciona la autenticación en Windows.
    
- Qué es el UAC, el registro, servicios y procesos.
    
- Cómo se manejan permisos y privilegios.
    
- Cómo funciona SMB y por qué es un vector común.
    
- Qué es Active Directory a nivel conceptual.
    
- Qué hace Windows Defender.
    
- Seguridad básica: firewall, actualizaciones, cuentas, políticas.
    
- Cómo se explotan fallos comunes de Windows.
    

---

## 2. Explicación técnica aplicada al examen

### 1. Autenticación en Windows

Windows utiliza cuentas locales y cuentas de dominio (si está en Active Directory).

Métodos clave:

- Contraseña
    
- Kerberos (en dominio)
    
- NTLM (autenticación más antigua, todavía usada)
    

Dato importante:  
Los hashes NTLM pueden ser robados y reutilizados (pass-the-hash), un ataque bastante conocido.

---

### 2. UAC (User Account Control)

Permite controlar acciones que requieren privilegios elevados.  
Evita que procesos comunes se ejecuten como administrador sin autorización.

Ejemplo de examen:  
“¿Qué característica de Windows pide confirmación antes de ejecutar tareas administrativas?”  
→ UAC.

---

### 3. Administración de permisos y privilegios

Windows aplica un modelo basado en:

- Propietario
    
- Permisos NTFS: Leer, Escribir, Ejecutar, Control total
    
- Grupos: Administradores, Usuarios, Invitados
    
- Privilegios elevados requeridos para modificar sistema
    

Errores típicos:

- Dar permisos innecesarios.
    
- Ejecutar como administrador permanentemente.
    
- Permitir a usuarios instalar software sin control.
    

---

### 4. Procesos, servicios y tareas

Windows organiza su funcionamiento en:

- **Procesos**: programas en ejecución.
    
- **Servicios**: procesos del sistema que arrancan con Windows (ej.: DHCP Client).
    
- **Programas de inicio**: potencial vector para persistencia maliciosa.
    
- **Tareas programadas**: también usadas por malware para persistencia.
    

---

### 5. El Registro de Windows

Base de datos central donde se almacena:

- Configuración del sistema
    
- Configuración del usuario
    
- Información de aplicaciones
    
- Entradas de persistencia (Run, RunOnce)
    
- Configuraciones de seguridad
    

Atacantes buscan:

- Entradas Run para persistencia
    
- Modificar políticas
    
- Alterar configuraciones de servicios
    

---

### 6. SMB (Server Message Block)

Protocolo usado para compartir archivos e impresoras.

Es un vector de ataque histórico:

- EternalBlue (WannaCry)
    
- SMBv1 vulnerable
    
- Exposición en Internet = alto riesgo
    

CCST pregunta:  
“¿Qué protocolo se usa en Windows para compartir archivos y puede ser explotado si está expuesto a Internet?”  
→ SMB.

---

### 7. Active Directory (AD): Visión básica

AD permite:

- Administrar usuarios y grupos.
    
- Aplicar políticas (GPO).
    
- Autenticación centralizada.
    
- Control de acceso.
    

Concepto clave del examen:  
AD facilita control centralizado; si el atacante compromete AD, controla toda la red.

---

### 8. Windows Defender y seguridad integrada

Windows modernamente incluye:

- Windows Defender Antivirus
    
- Firewall de Windows
    
- SmartScreen
    
- Device Guard
    
- Credential Guard
    
- BitLocker (cifrado de disco)
    

Cisco se centra más en:

- **Firewall**: bloquea tráfico entrante no autorizado
    
- **Defender**: protección antimalware
    
- **BitLocker**: protege datos en caso de pérdida del dispositivo
    

---

### 9. Actualizaciones y parches

Windows Update mantiene el sistema protegido:

- Parches críticos
    
- Correcciones de vulnerabilidades
    
- Actualizaciones de seguridad mensuales
    

Muchos ataques ocurren cuando Windows no está actualizado.

---

### 10. Configuraciones inseguras comunes

Cisco quiere que reconozcas prácticas incorrectas:

- Tener SMBv1 habilitado.
    
- Ejecutar como administrador sin motivo.
    
- Usar contraseñas débiles.
    
- Deshabilitar el firewall por comodidad.
    
- Instalar software de fuentes desconocidas.
    
- Permitir macros en documentos desconocidos.
    

---

## 3. Preguntas tipo examen CCST

1. **¿Qué componente solicita confirmación antes de ejecutar tareas administrativas?**  
    UAC.
    
2. **¿Qué protocolo usa Windows para compartir archivos y puede ser explotado si no se actualiza?**  
    SMB.
    
3. **¿Qué herramienta de Windows protege contra malware?**  
    Windows Defender.
    
4. **¿Qué tecnología cifra discos completos para evitar acceso no autorizado?**  
    BitLocker.
    
5. **¿Qué es Active Directory?**  
    Un servicio de directorio para gestionar usuarios, grupos y políticas de forma centralizada.
    
6. **¿Qué ocurre si Windows no recibe actualizaciones?**  
    Queda vulnerable a exploits conocidos.
    
7. **¿Qué vías usan los atacantes para persistencia?**  
    Tareas programadas, claves de registro Run, servicios.
    
8. **¿Qué autenticación antigua en Windows puede ser objetivo de pass-the-hash?**  
    NTLM.
    

---

## 4. Resumen estratégico para memorizar

- UAC = controla acciones elevadas.
    
- SMB = comparte archivos; vector histórico de ataques.
    
- AD = control centralizado; comprometer AD = comprometer todo.
    
- Defender = antivirus incluido.
    
- BitLocker = cifrado.
    
- NTLM = viejo, vulnerable.
    
- Firewall de Windows = activo por defecto, no apagarlo.
    
- Ejecutar como admin solo cuando sea necesario.